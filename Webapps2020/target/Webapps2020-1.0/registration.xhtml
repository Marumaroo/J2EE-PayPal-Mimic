<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
    <title>Webapps</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.deep_purple-pink.min.css" />
    <script defer="true" src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <h:outputStylesheet library="css" name="styles.css" />
</h:head>
<h:body>
    <div class="container">
        <div class="mdl-card mdl-shadow--6dp">
            <h:form id="register-form">
                <div class="mdl-card__title mdl-color--primary mdl-color-text--white relative">
                    <h2 class="mdl-card__title-text">Register</h2>
                </div>

                <div class="mdl-card__supporting-text">
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <h:inputText styleClass="mdl-textfield__input" id="username" required="true" value="#{registrationBacking.user.username}" requiredMessage="Please enter a username" >
                            <f:validator validatorId="usernameValidator"/>
                        </h:inputText>
                        <label class="mdl-textfield__label" for="username">Username</label>
                    </div>
                    <h:message class="error" for="username" id="usernameError"/>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <h:inputSecret styleClass="mdl-textfield__input" id="password" required="true" value="#{registrationBacking.user.password}" requiredMessage="Please enter a password">
                            <f:validator validatorId="passwordValidator"/>
                        </h:inputSecret>
                        <label class="mdl-textfield__label" for="password">Password</label>
                    </div>
                    <h:message class="error" for="password" id="passwordError"/>
                    <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
                        <h:inputSecret styleClass="mdl-textfield__input" id="passwordConfirm" required="true" value ="#{registrationBacking.passwordConfirm}"
                            requiredMessage="Please confirm your password" />
                        <label class="mdl-textfield__label" for="passwordConfirm">Password Confirmation</label>
                    </div>
                    <h:message class="error" for="passwordConfirm" id="passwordConfirmError"/>
                    <br/>
                    Currency
                    <h:selectOneRadio id="currency" required="true" requiredMessage="Please select a currency" value="#{registrationBacking.user.currency}">
                        <f:selectItem itemValue="GBP" itemLabel="GBP" />
                        <f:selectItem itemValue="EUR" itemLabel="EUR" />
                        <f:selectItem itemValue="USD" itemLabel="USD" />
                    </h:selectOneRadio>
                    <h:message class="error" for="currency" id="currencyError"/>
                </div>
                <h:message class="error" for="register-form" id="registrationError"/>
                <div class="mdl-card__actions mdl-card--border">
                    <h:commandButton
                        styleClass="mdl-cell mdl-cell--12-col mdl-button mdl-button--raised mdl-button--colored mdl-js-button mdl-js-ripple-effect mdl-color-text--white"
                        id="register" value="Register" title="Register" label="Register" type="submit" action="#{registrationBacking.register()}"/>
                </div>
                
                <div class="mdl-grid">
                    <div class="mdl-layout-spacer"></div>
                    <h:link styleClass="mdl-color-text--primary" value="Already have an account? Login" outcome="signin" />
                    <div class="mdl-layout-spacer"></div>
                </div>
            </h:form>
        </div>
    </div>
</h:body>

</html>